<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Mystery Dungeon: Silver Saviors of the Sky</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            transition: background-color 0.3s, color 0.3s;
            position: relative;
        }
        .background-collage {
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/4d/Pok%C3%A9mon_Mystery_Dungeon_logo.png');
            background-size: contain;
            background-repeat: repeat;
            opacity: 0.1;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .dark-mode .background-collage {
            opacity: 0.2;
        }
        .dark-mode {
            background-color: #000;
            color: #fff;
        }
        .dark-mode .bg-blue-500 {
            background-color: #2c5282 !important;
        }
        .dark-mode .text-blue-500 {
            color: #63b3ed !important;
        }
        .dark-mode .bg-gray-800 {
            background-color: #333 !important;
        }
        .dark-mode .text-gray-900 {
            color: #ccc !important;
        }
        .dark-mode .text-white {
            color: #fff !important;
        }
        .browser-warning {
            display: none;
            background-color: #ffcc00;
            color: #333;
            padding: 20px;
            text-align: center;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }
        .browser-warning.show {
            display: block;
        }
        /* --- Desktop dropdown --- */
        .dropdown {
            position: relative;
            display: inline-block;
            margin-top: 1rem;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #1f2937;
            min-width: 180px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            z-index: 10;
            border-radius: 0.5rem;
        }
        .dropdown-content a {
            color: #fff;
            padding: 10px 14px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content a:hover {
            background-color: #374151;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        /* --- Mobile native select --- */
        .mobile-select {
            display: none;
            margin-top: 1rem;
            background-color: #3b82f6;
            color: #fff;
            padding: 0.5rem;
            border-radius: 0.375rem;
            border: none;
        }
        .dark-mode .mobile-select {
            background-color: #2c5282;
            color: #fff;
        }
        @media (max-width: 768px) {
            .dropdown {
                display: none;
            }
            .mobile-select {
                display: inline-block;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">
    <div class="background-collage"></div>
    <div class="browser-warning" id="browser-warning">
        Your browser is not up-to-date, so some site features may not work. Please update your browser.
    </div>
    <!-- Header Section -->
    <header class="bg-blue-500 text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl font-bold">Pokémon Mystery Dungeon: Silver Saviors of the Sky</h1>
            <button id="theme-toggle" class="mt-2 bg-blue-700 py-1 px-2 rounded">
                <i class="fas fa-adjust"></i> Toggle Theme
            </button>
        </div>
    </header>
    <!-- Main Content Section -->
    <main class="container mx-auto px-4 py-8">
        <section class="text-center">
            <p class="text-lg mb-6">
                Welcome to Pokémon Mystery Dungeon: Silver Saviors of the Sky! If you're here to download the game, go ahead and download the ZIP file below, which contains nearly everything you need to get started! The only things that it doesn't have are the base ROM, which cannot legally be distributed, the patcher (see the <a href="https://github.com/SilverTheShinyEevee/pmd-sss/blob/main/README.md" class="text-blue-500 underline">README</a>), and the method of playing the game (again, see the <a href="https://github.com/SilverTheShinyEevee/pmd-sss/blob/main/README.md" class="text-blue-500 underline">README</a>). If you've already downloaded the game, and want the OST, or even if you just want the OST without downloading the game, the YouTube playlist for the original audio can be found <a href="https://youtube.com/playlist?list=PLWY4UppILH9p8UJL84LtGIJfE6FFh6Kii" class="text-blue-500 underline">here</a>.
            </p>
            <!-- Download Button -->
            <a href="https://github.com/SilverTheShinyEevee/pmd-sss/releases/latest/download/PMD%3A%20SSS%20(All-Inclusive).zip"
               download
               class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition inline-block">
                <i class="fas fa-download mr-2"></i>Download the Game! [BROKEN LINK]
            </a>
            <!-- Desktop Hover Dropdown -->
            <div class="dropdown" id="release-dropdown">
                <button class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition inline-flex items-center">
                    <i class="fas fa-archive mr-2"></i>Previous Releases ▼
                </button>
                <div class="dropdown-content text-left" id="dropdown-list">
                    <!-- Releases will be populated here -->
                </div>
            </div>
            <!-- Mobile Native Select Dropdown -->
            <select class="mobile-select" id="mobile-release-select" onchange="if (this.value) location.href=this.value;">
                <option value="">Previous Releases</option>
                <!-- Options populated by JS -->
            </select>
        </section>
    </main>
    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white py-4">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024-2025 Pokémon Mystery Dungeon: Silver Saviors of the Sky. All rights reserved.</p>
            <p>All assets used in this site, and Pokémon Mystery Dungeon: Silver Saviors of the Sky are &trade; and &copy; their respective companies.</p>
            <p>Created by <a href="https://linktr.ee/SilverTheShinyEevee" class="text-blue-500 underline">SilverTheShinyEevee</a></p>
            <div class="mt-4">
                <a href="https://silvertheshinyeevee.github.io/privacy-policy.html" class="text-blue-500 underline">Privacy Policy</a> |
                <a href="https://silvertheshinyeevee.github.io/terms-and-conditions.html" class="text-blue-500 underline">Terms and Conditions</a> |
                <a href="https://silvertheshinyeevee.github.io/cookie-policy.html" class="text-blue-500 underline">Cookie Policy</a> | 
                <a href="https://silvertheshinyeevee.github.io/disclaimer.html" class="text-blue-500 underline">Disclaimer</a>
                <a href="https://silvertheshinyeevee.github.io/discord.html" class="text-blue-500 underline">Discord</a>
            </div>
        </div>
    </footer>
    <script>
        const themeToggleBtn = document.getElementById('theme-toggle');
        themeToggleBtn.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
        });
        function isBrowserOutdated() {
            try {
                new Function("(a = 0) => a");
                return false;
            } catch (err) {
                return true;
            }
        }
        if (isBrowserOutdated()) {

            document.getElementById('browser-warning').classList.add('show');
        }
        // ---- Populate releases ----
        async function populateReleases() {
            try {
                const response = await fetch('https://api.github.com/repos/SilverTheShinyEevee/pmd-sss/releases');
                const releases = await response.json();
                // Sort by creation date (newest first)
                releases.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
                const dropdownList = document.getElementById('dropdown-list');
                const mobileSelect = document.getElementById('mobile-release-select');
                releases.forEach(rel => {
                    const tag = rel.tag_name || rel.name;
                    const url = rel.html_url;
                    // Desktop dropdown
                    const a = document.createElement('a');
                    a.href = url;
                    a.target = '_blank';
                    a.textContent = tag;
                    dropdownList.appendChild(a);
                    // Mobile dropdown
                    const opt = document.createElement('option');
                    opt.value = url;
                    opt.textContent = tag;
                    mobileSelect.appendChild(opt);
                });
                // Add a "View all releases" link at the bottom
                const viewAllLink = document.createElement('a');
                viewAllLink.href = 'https://github.com/SilverTheShinyEevee/pmd-sss/releases';
                viewAllLink.target = '_blank';
                viewAllLink.textContent = 'View all releases';
                dropdownList.appendChild(viewAllLink);
                const viewAllOpt = document.createElement('option');
                viewAllOpt.value = 'https://github.com/SilverTheShinyEevee/pmd-sss/releases';
                viewAllOpt.textContent = 'View all releases';
                mobileSelect.appendChild(viewAllOpt);
            } catch (err) {
                console.error('Failed to load releases:', err);
                const dropdownList = document.getElementById('dropdown-list');
                dropdownList.innerHTML = '<a href="https://github.com/SilverTheShinyEevee/pmd-sss/releases" target="_blank">View all releases</a>';
            }
        }
        populateReleases();
    </script>
</body>
</html>

